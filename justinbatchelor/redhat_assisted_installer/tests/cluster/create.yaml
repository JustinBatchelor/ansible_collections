- name: Manage OpenShift Cluster
  hosts: localhost

  tasks:
    - name: Create a new OpenShift cluster
      justinbatchelor.redhat_assisted_installer.cluster:
        name: "pypi-testing"
        openshift_version: "4.15"
        # cluster_id: ""
        # additional_ntp_source: ""
        # api_vip: ""
        base_dns_domain: "batchelor.com"
        # cluster_network_cidr: ""
        # cluster_network_host_prefix: 23
        # cpu_architecture: ""
        # high_availability_mode: ""
        # http_proxy: ""
        # https_proxy: ""
        # hyperthreading: ""
        # ingress_vip: ""
        # network_type: ""
        # service_network_cidr: ""
        # user_managed_networking: ""
        # ssh_authorized_key: ""
        # vip_dhcp_allocation: ""
        state: present
      register: cluster

    - name: Debug returned cluster
      ansible.builtin.debug:
        msg: "{{ cluster }}"
